<div class="hero-image mb-6">
  <img src="<%= asset_path 'progress.jpg' %>" alt="Gym" class="hero-image">

  <div class="hero-overlay"></div>

  <div class="hero-text px-3">
    <h1 class="display-5 fw-bold mb-2">Progress</h1>
    <p class="lead mb-0">Visualize your strength gains over time ðŸ’ª</p>
  </div>
</div>

<div class="main-content-wrapper">
  <div class="container py-4">

    <p class="text-muted">
      <% if @exercise.present? %>
        Showing progress for <strong><%= @exercise %></strong>
      <% else %>
        Showing progress for all exercises
      <% end %>
    </p>

    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <%= form_with url: progress_path,
                      method: :get,
                      local: true,
                      class: "row g-3 align-items-end" do |f| %>

          <div class="col-md-6">
            <%= f.label :exercise, "Filter by exercise", class: "form-label" %>
            <%= f.select :exercise,
                  options_for_select(@exercises, @exercise),
                  { include_blank: "All exercises" },
                  class: "form-select" %>
          </div>

          <div class="col-md-3">
            <%= f.submit "Apply filter", class: "btn btn-primary w-100" %>
          </div>

          <% if @exercise.present? %>
            <div class="col-md-3 text-md-end">
              <%= link_to "Clear filter", progress_path,
                          class: "btn btn-outline-secondary w-100" %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>

    <div class="card shadow-sm">
      <div class="card-header bg-white">
        <strong><%= @chart_title || "Progress over time" %></strong>
      </div>
      <div class="card-body">
        <% if @series_by_day.present? %>
          <%= line_chart @series_by_day,
                         xtitle: "Date",
                         ytitle: (@y_axis_label || "Value") %>
        <% else %>
          <p class="text-muted mb-0">
            No data yet. Log some workouts to see your progress.
          </p>
        <% end %>
      </div>
    </div>
  </div>
</div>


